<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Realizar Pago - Talleres</title>
    <link rel="stylesheet" href="Style.css">
    <style>
        /* Estilos espec√≠ficos para la tarjeta de cr√©dito */
        .credit-card-display {
            background: linear-gradient(135deg, #1e90ff 0%, #0b63d6 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(11, 99, 214, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .cc-number { font-size: 1.4rem; letter-spacing: 2px; margin: 20px 0; font-family: monospace; }
        .cc-info { display: flex; justify-content: space-between; font-size: 0.9rem; text-transform: uppercase; }
        .cc-chip { width: 40px; height: 30px; background: #fbbf24; border-radius: 6px; margin-bottom: 10px; opacity: 0.8; }

        /* Resumen de compra */
        .summary-box {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
        .total-row { font-weight: bold; border-top: 1px dashed #cbd5e1; padding-top: 8px; margin-top: 8px; font-size: 16px; color: #102a43; }

        /* Ajustes de inputs en fila */
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
    </style>
</head>
<body>
    <header>
        <div class="container top">
            <h1>Pasarela de Pago</h1>
            <nav aria-label="Principal">
                <a href="usuarioIngresado.html" style="color:rgba(255,255,255,0.9); text-decoration:none;">Cancelar y Volver</a>
            </nav>
        </div>
    </header>

    <main class="container" style="max-width: 800px;">
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
            
            <section class="card">
                <h2 style="margin-top:0; font-size:1.2rem;">Detalles de la tarjeta</h2>
                <p class="muted" style="margin-bottom:20px;">Transacci√≥n segura encriptada.</p>

                <form id="pagoForm">
                    <label for="titular">Nombre del titular</label>
                    <input type="text" id="titular" placeholder="Como aparece en la tarjeta" required oninput="actualizarTarjeta()">

                    <label for="numero">N√∫mero de tarjeta</label>
                    <input type="text" id="numero" placeholder="0000 0000 0000 0000" maxlength="19" required oninput="formatoTarjeta(this)">

                    <div class="form-row">
                        <div>
                            <label for="expiracion">Vencimiento</label>
                            <input type="text" id="expiracion" placeholder="MM/AA" maxlength="5" required oninput="actualizarTarjeta()">
                        </div>
                        <div>
                            <label for="cvv">CVV</label>
                            <input type="password" id="cvv" placeholder="123" maxlength="3" required>
                        </div>
                    </div>

                    <div style="margin-top: 24px;">
                        <button type="submit" class="btn" style="width: 100%; font-size: 16px;">Pagar $15.000</button>
                    </div>
                </form>
            </section>

            <section>
                <div class="credit-card-display">
                    <div class="cc-chip"></div>
                    <div class="cc-number" id="card-number-display">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢</div>
                    <div class="cc-info">
                        <span id="card-name-display">NOMBRE TITULAR</span>
                        <span id="card-exp-display">MM/AA</span>
                    </div>
                </div>

                <div class="card summary-box">
                    <h3 style="margin:0 0 15px 0; font-size:1rem;">Resumen del pedido</h3>
                    
                    <div class="summary-row">
                        <span>Inscripci√≥n Taller</span>
                        <span>$15.000</span>
                    </div>
                    <div class="summary-row">
                        <span>Matr√≠cula anual</span>
                        <span style="color:#10b981;">Gratis</span>
                    </div>
                    <div class="summary-row">
                        <span>Comisi√≥n servicio</span>
                        <span>$0</span>
                    </div>
                    
                    <div class="summary-row total-row">
                        <span>Total a pagar</span>
                        <span>$15.000</span>
                    </div>
                </div>

                <div style="text-align: center; font-size: 12px; color: var(--muted);">
                    <p>üîí Tus datos no se guardan en este servidor (Modo Demo).</p>
                </div>
            </section>

        </div>
    </main>

    <script>
        // Formatear n√∫mero de tarjeta con espacios
        function formatoTarjeta(input) {
            let valor = input.value.replace(/\D/g, '').substring(0, 16);
            let valorConEspacios = valor.match(/.{1,4}/g)?.join(' ') || valor;
            input.value = valorConEspacios;
            
            document.getElementById('card-number-display').textContent = valorConEspacios || '‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
        }

        function actualizarTarjeta() {
            const nombre = document.getElementById('titular').value;
            const exp = document.getElementById('expiracion').value;

            document.getElementById('card-name-display').textContent = nombre || 'NOMBRE TITULAR';
            document.getElementById('card-exp-display').textContent = exp || 'MM/AA';
        }

        // Simulaci√≥n de proceso de pago
        document.getElementById('pagoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const btn = this.querySelector('button');
            const textoOriginal = btn.textContent;
            
            // Estado de carga
            btn.disabled = true;
            btn.textContent = "Procesando...";
            btn.style.background = "#6b7280";

            setTimeout(() => {
                alert("¬°Pago realizado con √©xito!\n\nTe hemos enviado el comprobante a tu correo.");
                window.location.href = 'usuarioIngresado.html'; // Volver al inicio logueado
            }, 2000);
        });
    </script>
</body>
</html>
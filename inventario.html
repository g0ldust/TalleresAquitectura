<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Inventario - Administrador</title>
    <link rel="stylesheet" href="Style.css">
    
    <style>
        /* --- ESTILOS DEL PANEL (Base) --- */
        nav a { color: inherit; margin-left: 0; text-decoration: none; }
        .sidebar { padding-right: 20px; }
        .sep { border: 0; border-top: 1px solid #e5e7eb; margin: 12px 0; }
        
        .btn-nav { display:block; background: #0b63d6; color: #fff; padding: 10px 14px; border: none; border-radius: 6px; cursor: pointer; text-align: center; font-size: 14px; margin-bottom: 8px; width: 100%; text-decoration: none; box-sizing: border-box; }
        .btn-nav:hover { opacity: 0.9; }
        .btn-nav.secondary { background: #6b7280; }

        /* --- GRID COMPACTA --- */
        .grid-compact {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        /* --- TARJETA DE INVENTARIO --- */
        .inv-card {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            overflow: hidden;
            border: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            transition: transform 0.2s;
        }
        .inv-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }

        /* Imagen ilustrativa */
        .inv-img {
            height: 90px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            position: relative;
        }
        
        /* Bot√≥n discreto eliminar (papelera) */
        .btn-trash-top {
            position: absolute;
            top: 6px;
            right: 6px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            padding: 4px;
            color: #ef4444;
            opacity: 0; /* Oculto hasta hover */
            transition: opacity 0.2s;
        }
        .inv-card:hover .btn-trash-top { opacity: 1; }
        .btn-trash-top:hover { background: #fee2e2; }

        /* Cuerpo */
        .inv-body { padding: 10px 12px; flex: 1; }
        .inv-title { font-size: 14px; font-weight: 700; margin: 0 0 4px 0; color: #111; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .inv-desc { font-size: 12px; color: #6b7280; margin: 0; line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        /* --- CONTROL DE STOCK (NUEVO) --- */
        .inv-footer {
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center; /* Centrado */
            gap: 12px;
        }

        .counter-btn {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 1px solid #cbd5e1;
            background: #fff;
            color: #0f172a;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            transition: all 0.1s;
        }
        .counter-btn:hover { background: #e2e8f0; border-color: #94a3b8; }
        .counter-btn:active { background: #cbd5e1; transform: scale(0.95); }
        
        .stock-display {
            font-size: 15px;
            font-weight: 700;
            color: #0f172a;
            min-width: 30px;
            text-align: center;
        }

        /* Toolbar y colores (igual que antes) */
        .toolbar { display: flex; justify-content: space-between; align-items: center; background: #fff; padding: 16px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); gap: 10px; flex-wrap: wrap; }
        .search-box { padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; width: 250px; font-size: 14px; }
        .btn-add { background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px; }
        .btn-add:hover { background: #059669; }

        .bg-blue { background: #e0f2fe; color: #0284c7; }
        .bg-orange { background: #ffedd5; color: #ea580c; }
        .bg-green { background: #dcfce7; color: #16a34a; }
        .bg-purple { background: #f3e8ff; color: #9333ea; }
    </style>
</head>
<body>
    <header>
        <div class="container top">
            <h1>Panel de administrador</h1>
            <div style="font-size: 14px; opacity: 0.9;">Sesi√≥n: Administrador</div>
        </div>
    </header>

    <div class="container" style="margin-top: 30px;">
        <div class="grid" style="grid-template-columns: 200px 1fr; gap: 30px;">
            
            <nav aria-label="Navegaci√≥n principal" class="sidebar">
                <a class="btn-nav" href="inventario.html" style="background:#1e40af;">Inventario</a>
                <a class="btn-nav" href="#">Gesti√≥n de salas</a>
                <a class="btn-nav" href="#">Gesti√≥n de talleres</a>
                <a class="btn-nav" href="Administrador.html">Postulaciones</a>

                <hr class="sep">
                <a class="btn-nav secondary" href="usuarioIngresado.html">Volver a usuario</a>
                <button class="btn-nav secondary" onclick="cerrarSesion()">Cerrar sesi√≥n</button>
            </nav>

            <main>
                <div class="toolbar">
                    <h2 style="margin:0; font-size:18px;">Inventario de Equipamiento</h2>
                    <div style="display:flex; gap:10px;">
                        <input type="text" class="search-box" placeholder="Buscar material..." onkeyup="filtrar(this.value)">
                        <button class="btn-add" onclick="agregarItem()">+ Nuevo Item</button>
                    </div>
                </div>

                <div class="grid-compact" id="gridInventario">
                    
                    <div class="inv-card">
                        <div class="inv-img bg-blue">
                            üèÄ
                            <button class="btn-trash-top" onclick="eliminar(this)" title="Eliminar √≠tem">üóëÔ∏è</button>
                        </div>
                        <div class="inv-body">
                            <h4 class="inv-title">Balones Basket</h4>
                            <p class="inv-desc">Balones oficiales N¬∞7 para taller avanzado.</p>
                        </div>
                        <div class="inv-footer">
                            <button class="counter-btn" onclick="updateStock(this, -1)">-</button>
                            <span class="stock-display">12</span>
                            <button class="counter-btn" onclick="updateStock(this, 1)">+</button>
                        </div>
                    </div>

                    <div class="inv-card">
                        <div class="inv-img bg-orange">
                            üßò
                            <button class="btn-trash-top" onclick="eliminar(this)" title="Eliminar √≠tem">üóëÔ∏è</button>
                        </div>
                        <div class="inv-body">
                            <h4 class="inv-title">Mats de Yoga</h4>
                            <p class="inv-desc">Colchonetas antideslizantes 6mm.</p>
                        </div>
                        <div class="inv-footer">
                            <button class="counter-btn" onclick="updateStock(this, -1)">-</button>
                            <span class="stock-display">30</span>
                            <button class="counter-btn" onclick="updateStock(this, 1)">+</button>
                        </div>
                    </div>

                    <div class="inv-card">
                        <div class="inv-img bg-green">
                            üèä
                            <button class="btn-trash-top" onclick="eliminar(this)" title="Eliminar √≠tem">üóëÔ∏è</button>
                        </div>
                        <div class="inv-body">
                            <h4 class="inv-title">Tablas Nataci√≥n</h4>
                            <p class="inv-desc">Tablas de flotaci√≥n espuma EVA.</p>
                        </div>
                        <div class="inv-footer">
                            <button class="counter-btn" onclick="updateStock(this, -1)">-</button>
                            <span class="stock-display">25</span>
                            <button class="counter-btn" onclick="updateStock(this, 1)">+</button>
                        </div>
                    </div>

                    <div class="inv-card">
                        <div class="inv-img bg-purple">
                            üé®
                            <button class="btn-trash-top" onclick="eliminar(this)" title="Eliminar √≠tem">üóëÔ∏è</button>
                        </div>
                        <div class="inv-body">
                            <h4 class="inv-title">Set Acr√≠licos</h4>
                            <p class="inv-desc">Pinturas b√°sicas para taller de arte.</p>
                        </div>
                        <div class="inv-footer">
                            <button class="counter-btn" onclick="updateStock(this, -1)">-</button>
                            <span class="stock-display">50</span>
                            <button class="counter-btn" onclick="updateStock(this, 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="inv-card">
                        <div class="inv-img bg-blue">
                            üéæ
                            <button class="btn-trash-top" onclick="eliminar(this)" title="Eliminar √≠tem">üóëÔ∏è</button>
                        </div>
                        <div class="inv-body">
                            <h4 class="inv-title">Raquetas Tenis</h4>
                            <p class="inv-desc">Raquetas junior para iniciaci√≥n.</p>
                        </div>
                        <div class="inv-footer">
                            <button class="counter-btn" onclick="updateStock(this, -1)">-</button>
                            <span class="stock-display">8</span>
                            <button class="counter-btn" onclick="updateStock(this, 1)">+</button>
                        </div>
                    </div>

                     <div class="inv-card">
                        <div class="inv-img bg-orange">
                            üîä
                            <button class="btn-trash-top" onclick="eliminar(this)" title="Eliminar √≠tem">üóëÔ∏è</button>
                        </div>
                        <div class="inv-body">
                            <h4 class="inv-title">Parlante BT</h4>
                            <p class="inv-desc">Equipo sonido port√°til clases baile.</p>
                        </div>
                        <div class="inv-footer">
                            <button class="counter-btn" onclick="updateStock(this, -1)">-</button>
                            <span class="stock-display">2</span>
                            <button class="counter-btn" onclick="updateStock(this, 1)">+</button>
                        </div>
                    </div>

                </div>
            </main>
        </div>
    </div>

    <script>
        // Funci√≥n para manejar el contador (+ / -)
        function updateStock(btn, change) {
            // Buscamos el contenedor padre (footer)
            const footer = btn.parentElement;
            // Buscamos el elemento que muestra el n√∫mero
            const display = footer.querySelector('.stock-display');
            
            // Obtenemos el valor actual
            let currentVal = parseInt(display.textContent);
            let newVal = currentVal + change;

            // Evitamos n√∫meros negativos
            if (newVal < 0) newVal = 0;

            // Actualizamos el texto
            display.textContent = newVal;

            // Efecto visual simple (opcional)
            display.style.color = change > 0 ? '#10b981' : '#ef4444';
            setTimeout(() => display.style.color = '#0f172a', 300);
        }

        function agregarItem(){
            const nombre = prompt("Nombre del nuevo equipamiento:");
            if(nombre){
                alert("Has a√±adido: " + nombre + " al inventario (simulado).");
                location.reload(); 
            }
        }

        function eliminar(btn){
            if(confirm("¬øEst√°s seguro de borrar este √≠tem completamente?")){
                const card = btn.closest('.inv-card');
                card.style.opacity = '0';
                card.style.transform = 'scale(0.9)';
                setTimeout(() => card.remove(), 200);
            }
        }

        function cerrarSesion(){
            if(confirm('¬øCerrar sesi√≥n de administrador?')) {
                window.location.href = 'talleres.html';
            }
        }
        
        function filtrar(texto){
            texto = texto.toLowerCase();
            const cards = document.querySelectorAll('.inv-card');
            cards.forEach(card => {
                const title = card.querySelector('.inv-title').textContent.toLowerCase();
                card.style.display = title.includes(texto) ? 'flex' : 'none';
            });
        }
    </script>
</body>
</html>